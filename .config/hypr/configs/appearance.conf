                                                                     
# _____  ______ ______   ____ _____ ____________    ____   ____  ____  
# \__  \ \____ \\____ \_/ __ \\__  \\_  __ \__  \  /    \_/ ___\/ __ \ 
#  / __ \|  |_> >  |_> >  ___/ / __ \|  | \// __ \|   |  \  \__\  ___/ 
# (____  /   __/|   __/ \___  >____  /__|  (____  /___|  /\___  >___  >
#      \/|__|   |__|        \/     \/           \/     \/     \/    \/ 


general {
    gaps_in = 3 # 5
    gaps_out = 8 # 20

    border_size = 0 # 2

    # https://wiki.hypr.land/Configuring/Variables/#variable-types for info about colors
    col.active_border = rgba(e8e8e8aa) rgba(808080aa) 45deg
    col.inactive_border = rgba(101010aa)

    # Set to true enable resizing windows by clicking and dragging on borders and gaps
    resize_on_border = false

    # Please see https://wiki.hypr.land/Configuring/Tearing/ before you turn this on
    allow_tearing = false

    layout = dwindle
}

# https://wiki.hypr.land/Configuring/Variables/#decoration
decoration {
    rounding = 10
    rounding_power = 2

    # Change transparency of focused and unfocused windows
    active_opacity = 0.90
    inactive_opacity = 0.80

    shadow {
        enabled = true
        range = 20
        render_power = 10
        color = rgba(101010aa)
    }

    # https://wiki.hypr.land/Configuring/Variables/#blur
    blur {
        enabled = true
        size = 3 # 3
        passes = 4 # 1

        vibrancy = 2.0 # 0.1696
        contrast = 1.2
    }
}

animations {
    enabled = yes

    bezier = smoothIn,  0.25, 0.1,  0.25, 1     # Smooth ease-in
    bezier = smoothOut, 0.16, 1,    0.3,  1     # Smooth ease-out
    bezier = smoothIO, 0.3,  0.8,  0.2,  1     # 

    # Windows - fade + zoom
    animation = windowsIn,     1, 5, smoothOut, popin 80%
    animation = windowsOut,    1, 5, smoothIn,  popin 80%
    animation = windowsMove,   1, 5, smoothIO, slide

    # Workspaces - slide on Y axis (gentle transition)
    animation = workspaces,    1, 5, smoothIO, slidevert
    
    # Fading for layers/overlays
    animation = fadeIn,        1, 5, smoothOut
    animation = fadeOut,       1, 5, smoothIn
    animation = fade,          1, 5, smoothIO
    
    # Borders (keep snappy)
    animation = border,        1, 3, smoothOut
    
    # Layers (notifications, bars, etc.)
    animation = layers,        1, 5, smoothIO
    animation = layersIn,      1, 5, smoothOut, fade
    animation = layersOut,     1, 5, smoothIn,  fade
}

# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/
# "Smart gaps" / "No gaps when only"
# uncomment all if you wish to use that.
# workspace = w[tv1], gapsout:0, gapsin:0
# workspace = f[1], gapsout:0, gapsin:0
# windowrule = bordersize 0, floating:0, onworkspace:w[tv1]
# windowrule = rounding 0, floating:0, onworkspace:w[tv1]
# windowrule = bordersize 0, floating:0, onworkspace:f[1]
# windowrule = rounding 0, floating:0, onworkspace:f[1]

# Smart gaps: no gaps/borders when single tiled window
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0

windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
windowrulev2 = opacity 0.95 override, floating:0, onworkspace:w[tv1]  # <- ADD THIS
windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
windowrulev2 = rounding 0, floating:0, onworkspace:f[1]
windowrulev2 = opacity 1.0, floating:0, onworkspace:f[1]    # <- ADD THIS

# Optional: Remove borders/rounding when fullscreen too
windowrulev2 = bordersize 0, fullscreen:1
windowrulev2 = rounding 0, fullscreen:1
windowrulev2 = opacity 1.0, fullscreen:1  # <- ADD THIS TOO

# Optional: Keep your floating windows pretty even when alone
windowrulev2 = bordersize 2, floating:1
windowrulev2 = rounding 10, floating:1


# layerrule for extra blur
layerrule = blur, waybar
layerrule = blur, rofi
layerrule = blur, logout_dialog
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorezero, swaync-control-center
layerrule = ignorezero, swaync-notification-window
layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window

# app window rules

# TOP LEFT (10 50)
windowrulev2 = float, class:^(nemo)$
windowrulev2 = size 1280 720, class:^(nemo)$
windowrulev2 = move 10 50, class:^(nemo)$

windowrulev2 = float, class:^(fileu)$
windowrulev2 = size 750 500, class:^(fileu)$
windowrulev2 = move 10 50, class:^(fileu)$

# TOP RIGHT (1160 50)
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = size 750 500, class:^(blueman-manager)$
windowrulev2 = move 1160 50, class:^(blueman-manager)$

windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 750 500, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = move 1160 50, class:^(org.pulseaudio.pavucontrol)$

windowrulev2 = float, class:^(protonvpn-app)$
windowrulev2 = size 400 600, class:^(protonvpn-app)$
windowrulev2 = move 1510 50, class:^(protonvpn-app)$

# TOP CENTER (585 50)
windowrulev2 = float, class:^(vesktop)$
windowrulev2 = size 750 500, class:^(vesktop)$
windowrulev2 = move 585 50, class:^(vesktop)$

windowrulev2 = float, class:^(io.github.kukuruzka165.materialgram)$
windowrulev2 = size 750 500, class:^(io.github.kukuruzka165.materialgram)$
windowrulev2 = move 585 50, class:^(io.github.kukuruzka165.materialgram)$

# CENTER
windowrulev2 = float, class:^(org.gnome.FileRoller)$
windowrulev2 = size 750 500, class:^(org.gnome.FileRoller)$
windowrulev2 = center, class:^(org.gnome.FileRoller)$

windowrulev2 = float, class:^(mpv)$
windowrulev2 = size 750 500, class:^(mpv)$
windowrulev2 = center, class:^(mpv)$

